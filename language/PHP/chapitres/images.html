<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <title>PHP - Manipulation d'images</title>
    <link rel="stylesheet" href="../assets/style.css" />
</head>

<body>
    <header>
        <h1>Manipulation d'images avec PHP</h1>
        <p>Utilisation de la GD Library pour la manipulation d'images.</p>
    </header>

    <main>
        <h1>Chapitre 74: Manipulation d'images</h1>

        <h2>1. Introduction à la GD Library</h2>
        <p>
            La GD Library est une extension PHP permettant de créer, modifier et manipuler des images au format PNG, JPEG, GIF, etc.
            Elle est utile pour générer des images dynamiques, des miniatures, des filigranes, ou pour appliquer des effets.
        </p>

        <h2>2. Fonctionnalités courantes</h2>
        <ul>
            <li>Création d’images à partir de zéro ou à partir de fichiers existants.</li>
            <li>Redimensionnement et recadrage d’images.</li>
            <li>Ajout de texte, formes, et couleurs.</li>
            <li>Gestion des transparences et des filtres.</li>
        </ul>

        <h2>3. Exemple simple : redimensionner une image</h2>
        <pre><code>&lt;?php
// Charger une image source
$sourcePath = 'image.jpg';
$destinationPath = 'image_redim.jpg';

$sourceImage = imagecreatefromjpeg($sourcePath);
if (!$sourceImage) {
    die('Erreur lors du chargement de l\'image source.');
}

// Dimensions souhaitées
$newWidth = 200;
$newHeight = 150;

// Obtenir dimensions originales
$width = imagesx($sourceImage);
$height = imagesy($sourceImage);

// Créer une image vide aux dimensions souhaitées
$destImage = imagecreatetruecolor($newWidth, $newHeight);

// Redimensionner l'image source dans la nouvelle image
imagecopyresampled($destImage, $sourceImage, 0, 0, 0, 0, $newWidth, $newHeight, $width, $height);

// Sauvegarder l'image redimensionnée
imagejpeg($destImage, $destinationPath);

// Libérer la mémoire
imagedestroy($sourceImage);
imagedestroy($destImage);

echo "Image redimensionnée avec succès !";
?&gt;
</code></pre>

        <h2>4. Points importants</h2>
        <ul>
            <li>Assurez-vous que l’extension GD est activée dans votre configuration PHP.</li>
            <li>Les fonctions GD commencent généralement par <code>image</code> (ex. <code>imagecreatefromjpeg</code>, <code>imagejpeg</code>).</li>
            <li>La gestion des erreurs est importante pour vérifier le bon chargement des images.</li>
            <li>Pour les images PNG et GIF, gérez la transparence avec <code>imagecolorallocatealpha</code> et <code>imagesavealpha</code>.</li>
        </ul>
    </main>

    <footer>
        <p>
            Guide d'apprentissage PHP &copy; 2025 | Liens utiles : 
            <a href="https://www.php.net/manual/fr/book.image.php" target="_blank" rel="noopener noreferrer">Documentation officielle GD Library</a> | 
            <a href="https://www.php.net/manual/fr/function.imagecopyresampled.php" target="_blank" rel="noopener noreferrer">Fonction imagecopyresampled()</a> | 
            <a href="https://www.php.net/manual/fr/function.imagecreatefromjpeg.php" target="_blank" rel="noopener noreferrer">Fonction imagecreatefromjpeg()</a>
        </p>
    </footer>
</body>

</html>
