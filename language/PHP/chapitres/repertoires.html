<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>PHP - Répertoires</title>
    <link rel="stylesheet" href="../assets/style.css">
</head>

<body>
    <header>
        <h1>Répertoires</h1>
        <p>Manipulation des répertoires et arborescence.</p>
    </header>

    <main>
        <h1>Chapitre 30: Répertoires</h1>

        <h2>1. Introduction</h2>
        <p>
            PHP permet de gérer les répertoires : création, suppression, lecture du contenu, et navigation dans l’arborescence
            des dossiers.
        </p>

        <h2>2. Créer un répertoire</h2>
        <p>La fonction <code>mkdir()</code> crée un nouveau dossier :</p>

        <pre>
&lt;?php
mkdir("mon_dossier");
?&gt;
        </pre>

        <h2>3. Supprimer un répertoire</h2>
        <p>Avec <code>rmdir()</code>, on peut supprimer un dossier vide :</p>

        <pre>
&lt;?php
rmdir("mon_dossier");
?&gt;
        </pre>

        <p>Pour supprimer un dossier non vide, il faut d'abord supprimer son contenu.</p>

        <h2>4. Lire le contenu d’un répertoire</h2>
        <p>La fonction <code>scandir()</code> retourne un tableau des fichiers et dossiers :</p>

        <pre>
&lt;?php
$contenu = scandir("mon_dossier");
foreach ($contenu as $element) {
    echo $element . "&lt;br&gt;";
}
?&gt;
        </pre>

        <h2>5. Vérifier l’existence d’un dossier</h2>
        <p>Utilisez <code>is_dir()</code> :</p>

        <pre>
&lt;?php
if (is_dir("mon_dossier")) {
    echo "Le dossier existe.";
} else {
    echo "Dossier introuvable.";
}
?&gt;
        </pre>

        <h2>6. Parcourir un répertoire récursivement</h2>
        <p>Pour parcourir un dossier et tous ses sous-dossiers, on peut utiliser une fonction récursive :</p>

        <pre>
&lt;?php
function listerDossier($chemin) {
    $elements = scandir($chemin);
    foreach ($elements as $element) {
        if ($element === '.' || $element === '..') continue;

        $cheminComplet = $chemin . DIRECTORY_SEPARATOR . $element;

        if (is_dir($cheminComplet)) {
            echo "Dossier : $cheminComplet&lt;br&gt;";
            listerDossier($cheminComplet); // Appel récursif
        } else {
            echo "Fichier : $cheminComplet&lt;br&gt;";
        }
    }
}

listerDossier("mon_dossier");
?&gt;
        </pre>

        <h2>7. Résumé</h2>
        <ul>
            <li><code>mkdir()</code> crée des dossiers</li>
            <li><code>rmdir()</code> supprime des dossiers vides</li>
            <li><code>scandir()</code> liste le contenu d’un dossier</li>
            <li><code>is_dir()</code> vérifie si un chemin est un dossier</li>
            <li>La récursivité permet de parcourir des structures complexes</li>
        </ul>
    </main>

    <footer>
        <p>Guide d'apprentissage PHP &copy; 2025 | Consultez la <a href="https://www.php.net/manual/fr/ref.dir.php">documentation officielle PHP</a> pour plus de détails.</p>
    </footer>
</body>

</html>
