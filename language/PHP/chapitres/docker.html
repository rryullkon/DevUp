<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <title>PHP - Docker avec PHP</title>
    <link rel="stylesheet" href="../assets/style.css" />
</head>

<body>
    <header>
        <h1>Docker avec PHP</h1>
        <p>Containerisation d'applications PHP.</p>
    </header>

    <main>
        <h1>Chapitre 65: Docker avec PHP</h1>

        <h2>1. Qu'est-ce que Docker ?</h2>
        <p>
            Docker est une plateforme de containerisation qui permet d’isoler des applications et leurs dépendances dans des conteneurs légers,
            assurant ainsi une portabilité et une cohérence entre les environnements de développement, test et production.
        </p>

        <h2>2. Pourquoi utiliser Docker avec PHP ?</h2>
        <ul>
            <li>Facilite la gestion des environnements de développement.</li>
            <li>Assure la cohérence entre les environnements.</li>
            <li>Simplifie le déploiement et la scalabilité.</li>
            <li>Permet d’isoler les dépendances spécifiques à chaque projet.</li>
        </ul>

        <h2>3. Exemple simple de Dockerfile pour une application PHP</h2>
        <pre>
# Utiliser une image officielle PHP avec Apache
FROM php:8.1-apache

# Copier les fichiers de l’application dans le répertoire web
COPY src/ /var/www/html/

# Installer des extensions PHP si nécessaire
RUN docker-php-ext-install pdo pdo_mysql
        </pre>

        <h2>4. Utilisation de Docker Compose</h2>
        <p>
            Docker Compose permet de définir et gérer plusieurs conteneurs, par exemple pour une application PHP avec une base de données MySQL.
        </p>
        <pre>
version: '3.8'

services:
  web:
    build: .
    ports:
      - "8080:80"
    volumes:
      - ./src:/var/www/html
    depends_on:
      - db

  db:
    image: mysql:5.7
    environment:
      MYSQL_ROOT_PASSWORD: rootpassword
      MYSQL_DATABASE: mydb
      MYSQL_USER: user
      MYSQL_PASSWORD: userpassword
    volumes:
      - db_data:/var/lib/mysql

volumes:
  db_data:
        </pre>

        <h2>5. Bonnes pratiques</h2>
        <ul>
            <li>Garder les images légères en supprimant ce qui est inutile.</li>
            <li>Utiliser des variables d’environnement pour la configuration.</li>
            <li>Versionner vos fichiers Docker et Docker Compose.</li>
            <li>Nettoyer régulièrement les conteneurs et images inutilisés.</li>
        </ul>

        <h2>6. Conclusion</h2>
        <p>
            Docker facilite grandement le développement, le test et le déploiement d’applications PHP, en garantissant un environnement stable et portable.
        </p>
    </main>

    <footer>
        <p>
            Guide d'apprentissage PHP &copy; 2025 |
            <a href="https://docs.docker.com/language/php/" target="_blank" rel="noopener noreferrer">
                Documentation officielle Docker pour PHP
            </a>
        </p>
    </footer>
</body>

</html>
